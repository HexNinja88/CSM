<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Chainsaw Man Colored</title>
<link rel="icon" type="image/x-icon" href="https://avatars.githubusercontent.com/u/241241548">
<meta name="description" content="Read the colored version of Chainsaw Man manga volumes 1 to 11.">
<meta name="keywords" content="manga, manga-reader, csm, chainsawman, chainsaw-man, tatsuki-fujimoto, tatsuki fujimoto, wayexit995, wayexit996, you-okay-bro, denji, reze, hexninja88">
<style>
:root {
  --bg-color: #000;
  --text-color: #0f0;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--bg-color);
  color: var(--text-color);
  font-family: monospace;
  text-align: center;
}
header {
  position: sticky;
  top: 0;
  background: var(--bg-color);
  border-bottom: 1px solid var(--text-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  z-index: 10;
}
header h1 {
  margin: 0;
  font-size: 1.25rem;
}
.header-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}
main {
  min-height: 60vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
}
img.page {
  max-width: 90%;
  max-height: 80vh;
  border: 2px solid var(--text-color);
  border-radius: 6px;
  transition: opacity .35s ease;
  opacity: 1;
  display: block;
  margin: 12px auto;
}
select, input, button {
  background: transparent;
  border: 1px solid var(--text-color);
  color: var(--text-color);
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.95rem;
}
button:hover, select:hover, input:hover {
  background: rgba(0,255,0,0.1);
}
footer {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  padding: 12px;
  flex-wrap: wrap;
}
.controls {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
  padding: 8px;
}
.counter-container span { font-weight: 600; }
.small { font-size: .9rem; padding: 5px 8px; }
.page-num { font-weight: 700; }
</style>
</head>
<body>

<header>
  <h1>Chainsaw Man</h1>
  <div class="header-controls">
    <label>Chapter:
      <select id="chapterSelect"></select>
    </label>
    <button id="scrollToggle" class="small">Scroll Mode: OFF</button>
  </div>
</header>

<main id="mainContainer">
  <img id="pageImage" class="page" src="" alt="manga page">
</main>

<div class="controls">
  <div class="jump-container">
    <label>Jump to page:
      <input type="number" id="jumpPage" min="1" style="width:70px">
    </label>
    <button id="jumpBtn" class="small">Go</button>
  </div>

  <div class="theme-container">
    <label>Theme:
      <select id="themeSelect">
        <option value="green">Green on Black</option>
        <option value="white">White on Black</option>
        <option value="red">Red on Black</option>
        <option value="sepia">Sepia</option>
        <option value="cyber">Cyber Blue</option>
        <option value="neon">Neon Pink</option>
        <option value="solar">Solarized</option>
      </select>
    </label>
  </div>

  <div class="counter-container">
    <span id="visitCounter">Total: ? | Today: ?</span>
    <div style="display:none;">
      <script type="text/javascript" src="https://freehitcounters.org/count/iuk4"></script>
    </div>
  </div>
</div>

<footer>
  <button id="prevBtn" class="small">⬅ Prev</button>
  <span id="pageNum" class="page-num">1 / ?</span>
  <button id="nextBtn" class="small">Next ➡</button>
</footer>

<script>
const chapters = {
"Chapter_1":57,"Chapter_2":26,"Chapter_3":24,"Chapter_4":20,"Chapter_5":20,
"Chapter_6":20,"Chapter_7":26,"Chapter_8":24,"Chapter_9":20,"Chapter_10":20,
"Chapter_11":20,"Chapter_12":19,"Chapter_13":19,"Chapter_14":19,"Chapter_15":22,
"Chapter_16":29,"Chapter_17":25,"Chapter_18":20,"Chapter_19":19,"Chapter_20":19,
"Chapter_21":20,"Chapter_22":20,"Chapter_23":20,"Chapter_24":19,"Chapter_25":30,
"Chapter_26":26,"Chapter_27":19,"Chapter_28":20,"Chapter_29":22,"Chapter_30":20,
"Chapter_31":20,"Chapter_32":19,"Chapter_33":22,"Chapter_34":26,"Chapter_35":26,
"Chapter_36":19,"Chapter_37":17,"Chapter_38":26,"Chapter_39":20,"Chapter_40":20,
"Chapter_41":20,"Chapter_42":20,"Chapter_43":33,"Chapter_44":24,"Chapter_45":20,
"Chapter_46":22,"Chapter_47":20,"Chapter_48":20,"Chapter_49":21,"Chapter_50":18,
"Chapter_51":20,"Chapter_52":27,"Chapter_53":28,"Chapter_54":20,"Chapter_55":20,
"Chapter_56":20,"Chapter_57":20,"Chapter_58":19,"Chapter_59":23,"Chapter_60":22,
"Chapter_61":31,"Chapter_62":26,"Chapter_63":19,"Chapter_64":19,"Chapter_65":19,
"Chapter_66":20,"Chapter_67":20,"Chapter_68":19,"Chapter_69":18,"Chapter_70":28,
"Chapter_71":28,"Chapter_72":20,"Chapter_73":22,"Chapter_74":20,"Chapter_75":16,
"Chapter_76":16,"Chapter_77":19,"Chapter_78":17,"Chapter_79":25,"Chapter_80":26,
"Chapter_81":18,"Chapter_82":19,"Chapter_83":17,"Chapter_84":19,"Chapter_85":23,
"Chapter_86":19,"Chapter_87":17,"Chapter_88":25,"Chapter_89":25,"Chapter_90":21,
"Chapter_91":21,"Chapter_92":19,"Chapter_93":18,"Chapter_94":20,"Chapter_95":19,
"Chapter_96":18,"Chapter_97":27
};

const baseURL = "https://you-okay-bro.github.io/CSM/Manga/C";
const chapterKeys = Object.keys(chapters);
let chapter = localStorage.getItem("manga_chapter") || "Chapter_1";
let page = parseInt(localStorage.getItem("manga_page")) || 1;
let scrollMode = localStorage.getItem("scroll_mode") === "true";

const chapterSelect = document.getElementById("chapterSelect");
const pageImg = document.getElementById("pageImage");
const pageNum = document.getElementById("pageNum");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const jumpPage = document.getElementById("jumpPage");
const jumpBtn = document.getElementById("jumpBtn");
const themeSelect = document.getElementById("themeSelect");
const mainContainer = document.getElementById("mainContainer");
const scrollToggle = document.getElementById("scrollToggle");

chapterKeys.forEach(ch => {
  const opt = document.createElement("option");
  opt.value = ch;
  opt.textContent = ch.replace("_", " ");
  if (ch === chapter) opt.selected = true;
  chapterSelect.appendChild(opt);
});

function pad(n){return n.toString().padStart(3,"0");}

function preloadImages(ch, currentPage) {
  const total = chapters[ch];
  const startPrev = Math.max(1, currentPage - 2);
  const endNext = Math.min(total, currentPage + 5);
  for (let i = startPrev; i <= endNext; i++) {
    const img = new Image();
    img.src = `${baseURL}/${ch}/${pad(i)}.jpg`;
  }
}

function setPage() {
  if (scrollMode) {
    loadFullChapter();
    return;
  }
  if (page < 1) page = 1;
  if (page > chapters[chapter]) page = chapters[chapter];
  pageImg.src = `${baseURL}/${chapter}/${pad(page)}.jpg`;
  pageNum.textContent = `${page} / ${chapters[chapter]}`;
  localStorage.setItem("manga_chapter", chapter);
  localStorage.setItem("manga_page", page);
  jumpPage.value = page;
  preloadImages(chapter, page);
}

function changeChapter(ch) {
  chapter = ch;
  page = 1;
  chapterSelect.value = ch;
  setPage();
}

function nextPage() {
  if (scrollMode) {
    nextChapter();
    return;
  }
  if (page < chapters[chapter]) {
    page++;
  } else {
    nextChapter();
    return;
  }
  setPage();
}

function prevPage() {
  if (scrollMode) {
    prevChapter();
    return;
  }
  if (page > 1) {
    page--;
  } else {
    prevChapter();
    return;
  }
  setPage();
}

function nextChapter() {
  const idx = chapterKeys.indexOf(chapter);
  if (idx < chapterKeys.length - 1) {
    chapter = chapterKeys[idx + 1];
    page = 1;
    chapterSelect.value = chapter;
    setPage();
  }
}

function prevChapter() {
  const idx = chapterKeys.indexOf(chapter);
  if (idx > 0) {
    chapter = chapterKeys[idx - 1];
    page = 1;
    chapterSelect.value = chapter;
    setPage();
  }
}

function applyTheme(theme) {
  const root = document.documentElement;
  switch (theme) {
    case "green": root.style.setProperty("--bg-color","#000"); root.style.setProperty("--text-color","#0f0"); break;
    case "white": root.style.setProperty("--bg-color","#000"); root.style.setProperty("--text-color","#fff"); break;
    case "red": root.style.setProperty("--bg-color","#000"); root.style.setProperty("--text-color","#f00"); break;
    case "sepia": root.style.setProperty("--bg-color","#f4ecd8"); root.style.setProperty("--text-color","#5b4636"); break;
    case "cyber": root.style.setProperty("--bg-color","#001f3f"); root.style.setProperty("--text-color","#00bcd4"); break;
    case "neon": root.style.setProperty("--bg-color","#100010"); root.style.setProperty("--text-color","#ff00ff"); break;
    case "solar": root.style.setProperty("--bg-color","#002b36"); root.style.setProperty("--text-color","#b58900"); break;
  }
  localStorage.setItem("manga_theme", theme);
}

function extractCounter() {
  setTimeout(() => {
    const svg = document.getElementById("besucherzaehler2");
    if (!svg) return;
    const texts = svg.querySelectorAll("text");
    let totalNum = '';
    let todayNum = '';
    texts.forEach(t => {
      const txt = t.textContent;
      if (txt.includes("Total:")) totalNum = txt.split("Total:")[1].trim().split(/[^0-9]/)[0];
      if (txt.includes("Today:")) todayNum = txt.split("Today:")[1].trim().split(/[^0-9]/)[0];
    });
    document.getElementById("visitCounter").textContent = `Total: ${totalNum} | Today: ${todayNum}`;
  }, 500);
}

function loadFullChapter() {
  mainContainer.innerHTML = "";
  const total = chapters[chapter];
  for (let i = 1; i <= total; i++) {
    const img = document.createElement("img");
    img.src = `${baseURL}/${chapter}/${pad(i)}.jpg`;
    img.className = "page";
    mainContainer.appendChild(img);
  }
  pageNum.textContent = `${chapter.replace("_", " ")} (${total} pages)`;
  localStorage.setItem("manga_chapter", chapter);
}

function toggleScrollMode() {
  scrollMode = !scrollMode;
  localStorage.setItem("scroll_mode", scrollMode);
  scrollToggle.textContent = `Scroll Mode: ${scrollMode ? "ON" : "OFF"}`;
  setPage();
}

window.addEventListener('load', function() {
  document.querySelectorAll('a[href^="https://freehitcounters.org/stats/"]').forEach(a => a.style.display = 'none');
});
const observer = new MutationObserver(mutations => {
  mutations.forEach(m => m.addedNodes.forEach(node => {
    if(node.tagName === 'A' && node.href.startsWith('https://freehitcounters.org/stats/')) node.style.display='none';
  }));
});
observer.observe(document.body,{childList:true,subtree:true});

chapterSelect.addEventListener("change", e => changeChapter(e.target.value));
prevBtn.addEventListener("click", prevPage);
nextBtn.addEventListener("click", nextPage);
jumpBtn.addEventListener("click", ()=>{
  const target = parseInt(jumpPage.value);
  if(!isNaN(target) && target>=1 && target<=chapters[chapter]){
    page = target;
    setPage();
  }
});
jumpPage.addEventListener("keydown", e => { if(e.key==="Enter") jumpBtn.click(); });
themeSelect.addEventListener("change", e => applyTheme(e.target.value));
scrollToggle.addEventListener("click", toggleScrollMode);
window.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft") prevPage();
  if (e.key === "ArrowRight") nextPage();
});

const savedTheme = localStorage.getItem("manga_theme") || "green";
themeSelect.value = savedTheme;
applyTheme(savedTheme);
scrollToggle.textContent = `Scroll Mode: ${scrollMode ? "ON" : "OFF"}`;
setPage();
extractCounter();
</script>

<script type="text/javascript" src="https://freehitcounters.org/count/iuk4"></script>
<br>
<a href='https://www.versicherungen.at/'>versicherungen.at</a>
<script type='text/javascript' src='https://whomania.com/ctr?id=b20595180a06229fb004104948d78869409f8495'></script>
</body>
</html>
